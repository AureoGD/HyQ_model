<!-- ODE Simulation of the HyQ robot
       Author: Andreea Radulescu [andreea.radulescu@iit.it] -->

<?xml version="1.0" encoding="UTF-8" ?>
<configuration>
	<version>1.0</version>
	<loglevel>e</loglevel> <!-- e→error, cri→critical, info→info -->
    
	<constants>
		<irrelevantmass>0.001</irrelevantmass>
		<irrelevantinertia>0.001</irrelevantinertia>
        
        <!-- Materials -->
		<lynoleum>0</lynoleum>
		<rubber>1</rubber>
		<glass>2</glass>

        <!-- Leg parameters -->

		<!-- Trunk parameters -->
        <trunklength>0.747</trunklength>
        <trunkwidth>0.414</trunkwidth>
        <trunkheight>2*0.085</trunkheight>       
        
        <hip_assembly_length>0.32</hip_assembly_length>
        <upper_leg_length>0.35</upper_leg_length>
        <lower_leg_length>0.341</lower_leg_length>
            
        <footradius>0.02175</footradius>
        
        <!-- Slider joint properties -->
        <jointstopK>600.0</jointstopK>
        <jointstopD>10.0</jointstopD>
        
        <!-- Initial condition -->
        <initialangle>0.05</initialangle>
        
        <pi>3.1416</pi>
        
	</constants>
	<strings>
		<s>true</s>
		<s>false</s>
		<s>info</s>
		<s>robot</s>
		<s>lowerpole</s>
		<s>upperpole</s>
		<s>top</s>
		<s>bottom</s>
		<s>motorjoint</s>
		<s>slider</s>
		<s>force</s>
		<s>foot</s>
		<s>sphere</s>
		<s>surface</s>
		<s>plane</s>
		<s>floor</s>
	</strings>
	<ode>
		<globalK>3.3E6</globalK>
		<globalD>0.0</globalD>
		<gravityZ>-9.81</gravityZ>
		<steptime>0.005</steptime>
		<subsamplingfactor>1</subsamplingfactor>
        <anchor>
			<name>worldframe</name>
			<x>0</x>
			<y>0</y>
			<z>0</z>	
		</anchor>
        
        <!-- Robot -->
		<object>
			<name>robot</name>
			<drawbodies>true</drawbodies>
			<drawcoms>true</drawcoms>
			<drawgeoms>true</drawgeoms>
			
            <!-- Bodies -->
            <body>
				<name>trunk</name>
				<mass>71.758</mass>
                <CMX>0.02707</CMX>
                <CMY>0.0000</CMY>
                <CMZ>0.0329</CMZ>
				<IXX>1.61053</IXX>
				<IYY>8.53505</IYY>
				<IZZ>9.19102</IZZ>
                <IXY>-0.0288</IXY>
                <IXZ>0.34161</IXZ>
                <IYZ>0.0038</IYZ>
				<anchor>
					<name>trunkframe</name>
					<x>0</x>
					<y>0</y>
					<z>0</z>
				</anchor>
                <anchor>
					<name>trunk_to_LF_hip_assembly</name>
					<x>0.5*trunklength</x>
					<y>0.5*trunkwidth</y>
					<z>0</z>
				</anchor>
                <anchor>
					<name>trunk_to_RF_hip_assembly</name>
					<x>0.5*trunklength</x>
					<y>-0.5*trunkwidth</y>
					<z>0</z>
				</anchor>
                <anchor>
					<name>trunk_to_LH_hip_assembly</name>
					<x>-0.5*trunklength</x>
					<y>0.5*trunkwidth</y>
					<z>0</z>
				</anchor>
                <anchor>
					<name>trunk_to_RH_hip_assembly</name>
					<x>-0.5*trunklength</x>
					<y>-0.5*trunkwidth</y>
					<z>0</z>
				</anchor>                
				<drawinfo>
					<box comment="trunk">
						<color>
							<r>0.1</r>
							<g>0.1</g>
							<b>0.8</b>
						</color>
						<dx>trunklength</dx>
						<dy>trunkwidth</dy>
						<dz>trunkheight</dz>
					</box>
				</drawinfo>
			</body>
            
            <body>
				<name>LF_hip_assembly</name>
				<mass>2.92</mass>
                <CMX>0.04263</CMX>
                <CMY>0.00000</CMY>
                <CMZ>0.16931</CMZ>
				<IXX>0.05071</IXX>
				<IYY>0.05486</IYY>
				<IZZ>0.00571</IZZ>
                <IXY>-0.00004</IXY>
                <IXZ>-0.00159</IXZ>
                <IYZ>-0.00005</IYZ>
				<anchor>
					<name>LF_hip_assembly_to_trunk</name>
					<x>hip_assembly_length/2</x>
					<y>0</y>
					<z>0</z>
				</anchor>
                <anchor>
					<name>LF_hip_assembly_to_LF_upper_leg</name>
					<x>hip_assembly_length/2</x>
					<y>0</y>
					<z>-0.08</z>
				</anchor>
				<drawinfo>
					<box comment="LF_hip_assembly">
						<color>
							<r>0.5</r>
							<g>0.1</g>
							<b>0.1</b>
						</color>
						<dx>hip_assembly_length</dx>
						<dy>0.05</dy>
						<dz>0.05</dz>
					</box>
				</drawinfo>
			</body>
			
             <body>
				<name>LF_upper_leg</name>
				<mass>2.638</mass>
                <CMX>0.15074</CMX>
                <CMY>-0.02625</CMY>
                <CMZ>0.00000</CMZ>
				<IXX>0.00368</IXX>
				<IYY>0.02719</IYY>
				<IZZ>0.02811</IZZ>
                <IXY>-0.00302</IXY>
                <IXZ>0.0001</IXZ>
                <IYZ>0.00002</IYZ>
				<anchor>
					<name>LF_upper_leg_to_LF_hip_assembly</name>
					<x>upper_leg_length/2</x>
					<y>0</y>
					<z>0</z>
				</anchor>
                <anchor>
					<name>LF_upper_leg_to_LF_lower_leg</name>
					<x>-upper_leg_length/2</x>
					<y>0</y>
					<z>0</z>
				</anchor>
				<drawinfo>
					<box comment="LF_upper_leg">
						<color>
							<r>0.1</r>
							<g>0.8</g>
							<b>0.1</b>
						</color>
						<dx>0.35</dx>
						<dy>0.05</dy>
						<dz>0.05</dz>
					</box>
				</drawinfo>
			</body>
            
            <body>
				<name>LF_lower_leg</name>
				<mass>0.881</mass>
                <CMX>0.1254</CMX>
                <CMY>0.00004</CMY>
                <CMZ>-0.00010</CMZ>
				<IXX>0.00047</IXX>
				<IYY>0.01256</IYY>
				<IZZ>0.01233</IZZ>
                <IXY>0.00006</IXY>
                <IXZ>0.0000</IXZ>
                <IYZ>0.00</IYZ>
				<anchor>
					<name>LF_lower_leg_to_LF_upper_leg</name>
					<x>-lower_leg_length/2</x>
					<y>0</y>
					<z>0</z>
				</anchor>
				<drawinfo>
					<box comment="LF_lower_leg">
						<color>
							<r>0.1</r>
							<g>0.1</g>
							<b>0.8</b>
						</color>
						<dx>lower_leg_length</dx>
						<dy>0.05</dy>
						<dz>0.05</dz>
					</box>
				</drawinfo>
			</body>            

            <body>
				<name>RF_hip_assembly</name>
				<mass>2.93</mass>
                <CMX>0.04263</CMX>
                <CMY>-0.0000</CMY>
                <CMZ>-0.16931</CMZ>
				<IXX>0.05071</IXX>
				<IYY>0.05486</IYY>
				<IZZ>0.00571</IZZ>
                <IXY>0.00004</IXY>
                <IXZ>0.00159</IXZ>
                <IYZ>-0.00005</IYZ>
				<anchor>
					<name>RF_hip_assembly_to_trunk</name>
					<x>hip_assembly_length/2</x>
					<y>0</y>
					<z>0</z>
				</anchor>
                <anchor>
					<name>RF_hip_assembly_to_RF_upper_leg</name>
					<x>hip_assembly_length/2</x>
					<y>0</y>
					<z>-0.08</z>
				</anchor>
				<drawinfo>
					<box comment="RF_hip_assembly">
						<color>
							<r>0.5</r>
							<g>0.1</g>
							<b>0.1</b>
						</color>
						<dx>hip_assembly_length</dx>
						<dy>0.05</dy>
						<dz>0.05</dz>
					</box>
				</drawinfo>
			</body>
			
             <body>
				<name>RF_upper_leg</name>
				<mass>2.638</mass>
                <CMX>0.15074</CMX>
                <CMY>-0.02625</CMY>
                <CMZ>0.00000</CMZ>
				<IXX>0.00368</IXX>
				<IYY>0.02719</IYY>
				<IZZ>0.02811</IZZ>
                <IXY>-0.00302</IXY>
                <IXZ>0.0001</IXZ>
                <IYZ>-0.00002</IYZ>
				<anchor>
					<name>RF_upper_leg_to_RF_hip_assembly</name>
					<x>upper_leg_length/2</x>
					<y>0</y>
					<z>0</z>
				</anchor>
                <anchor>
					<name>RF_upper_leg_to_RF_lower_leg</name>
					<x>-upper_leg_length/2</x>
					<y>0</y>
					<z>0</z>
				</anchor>
				<drawinfo>
					<box comment="RF_upper_leg">
						<color>
							<r>0.1</r>
							<g>0.8</g>
							<b>0.1</b>
						</color>
						<dx>0.35</dx>
						<dy>0.05</dy>
						<dz>0.05</dz>
					</box>
				</drawinfo>
			</body>
            
            <body>
				<name>RF_lower_leg</name>
				<mass>0.881</mass>
                <CMX>0.1254</CMX>
                <CMY>0.00004</CMY>
                <CMZ>-0.00001</CMZ>
				<IXX>0.00047</IXX>
				<IYY>0.01256</IYY>
				<IZZ>0.01233</IZZ>
                <IXY>0.00006</IXY>
                <IXZ>-0.00001</IXZ>
                <IYZ>-0.00</IYZ>
				<anchor>
					<name>RF_lower_leg_to_RF_upper_leg</name>
					<x>-lower_leg_length/2</x>
					<y>0</y>
					<z>0</z>
				</anchor>
				<drawinfo>
					<box comment="RF_lower_leg">
						<color>
							<r>0.1</r>
							<g>0.1</g>
							<b>0.8</b>
						</color>
						<dx>lower_leg_length</dx>
						<dy>0.05</dy>
						<dz>0.05</dz>
					</box>
				</drawinfo>
			</body>   

            <body>
				<name>LH_hip_assembly</name>
				<mass>2.93</mass>
                <CMX>0.04263</CMX>
                <CMY>-0.0000</CMY>
                <CMZ>-0.16931</CMZ>
				<IXX>0.05071</IXX>
				<IYY>0.05486</IYY>
				<IZZ>0.00571</IZZ>
                <IXY>-0.00004</IXY>
                <IXZ>0.00159</IXZ>
                <IYZ>-0.00005</IYZ>
				<anchor>
					<name>LH_hip_assembly_to_trunk</name>
					<x>-hip_assembly_length/2</x>
					<y>0</y>
					<z>0</z>
				</anchor>
                <anchor>
					<name>LH_hip_assembly_to_LH_upper_leg</name>
					<x>-hip_assembly_length/2</x>
					<y>0</y>
					<z>-0.08</z>
				</anchor>
				<drawinfo>
					<box comment="LH_hip_assembly">
						<color>
							<r>0.5</r>
							<g>0.1</g>
							<b>0.1</b>
						</color>
						<dx>hip_assembly_length</dx>
						<dy>0.05</dy>
						<dz>0.05</dz>
					</box>
				</drawinfo>
			</body>
			
             <body>
				<name>LH_upper_leg</name>
				<mass>2.638</mass>
                <CMX>0.15074</CMX>
                <CMY>0.02625</CMY>
                <CMZ>0.00000</CMZ>
				<IXX>0.00368</IXX>
				<IYY>0.02719</IYY>
				<IZZ>0.02811</IZZ>
                <IXY>0.00302</IXY>
                <IXZ>-0.0001</IXZ>
                <IYZ>0.00002</IYZ>
				<anchor>
					<name>LH_upper_leg_to_LH_hip_assembly</name>
					<x>-upper_leg_length/2</x>
					<y>0</y>
					<z>0</z>
				</anchor>
                <anchor>
					<name>LH_upper_leg_to_LH_lower_leg</name>
					<x>upper_leg_length/2</x>
					<y>0</y>
					<z>0</z>
				</anchor>
				<drawinfo>
					<box comment="LH_upper_leg">
						<color>
							<r>0.1</r>
							<g>0.8</g>
							<b>0.1</b>
						</color>
						<dx>0.35</dx>
						<dy>0.05</dy>
						<dz>0.05</dz>
					</box>
				</drawinfo>
			</body>
            
            <body>
				<name>LH_lower_leg</name>
				<mass>0.881</mass>
                <CMX>0.1254</CMX>
                <CMY>-0.00004</CMY>
                <CMZ>0.00001</CMZ>
				<IXX>0.00047</IXX>
				<IYY>0.01256</IYY>
				<IZZ>0.01233</IZZ>
                <IXY>-0.00006</IXY>
                <IXZ>-0.00001</IXZ>
                <IYZ>-0.00</IYZ>
				<anchor>
					<name>LH_lower_leg_to_LH_upper_leg</name>
					<x>lower_leg_length/2</x>
					<y>0</y>
					<z>0</z>
				</anchor>
				<drawinfo>
					<box comment="LH_lower_leg">
						<color>
							<r>0.1</r>
							<g>0.1</g>
							<b>0.8</b>
						</color>
						<dx>lower_leg_length</dx>
						<dy>0.05</dy>
						<dz>0.05</dz>
					</box>
				</drawinfo>
			</body>            
            
            <body>
				<name>RH_hip_assembly</name>
				<mass>2.93</mass>
                <CMX>0.04263</CMX>
                <CMY>0.00000</CMY>
                <CMZ>0.16931</CMZ>
				<IXX>0.05071</IXX>
				<IYY>0.05486</IYY>
				<IZZ>0.00571</IZZ>
                <IXY>-0.00004</IXY>
                <IXZ>-0.00159</IXZ>
                <IYZ>-0.00005</IYZ>
				<anchor>
					<name>RH_hip_assembly_to_trunk</name>
					<x>-hip_assembly_length/2</x>
					<y>0</y>
					<z>0</z>
				</anchor>
                <anchor>
					<name>RH_hip_assembly_to_RH_upper_leg</name>
					<x>-hip_assembly_length/2</x>
					<y>0</y>
					<z>-0.08</z>
				</anchor>
				<drawinfo>
					<box comment="RH_hip_assembly">
						<color>
							<r>0.5</r>
							<g>0.1</g>
							<b>0.1</b>
						</color>
						<dx>hip_assembly_length</dx>
						<dy>0.05</dy>
						<dz>0.05</dz>
					</box>
				</drawinfo>
			</body>
			
             <body>
				<name>RH_upper_leg</name>
				<mass>2.638</mass>
                <CMX>0.15074</CMX>
                <CMY>0.02625</CMY>
                <CMZ>0.00000</CMZ>
				<IXX>0.00368</IXX>
				<IYY>0.02719</IYY>
				<IZZ>0.02811</IZZ>
                <IXY>0.00302</IXY>
                <IXZ>-0.0001</IXZ>
                <IYZ>0.00002</IYZ>
				<anchor>
					<name>RH_upper_leg_to_RH_hip_assembly</name>
					<x>-upper_leg_length/2</x>
					<y>0</y>
					<z>0</z>
				</anchor>
                <anchor>
					<name>RH_upper_leg_to_RH_lower_leg</name>
					<x>upper_leg_length/2</x>
					<y>0</y>
					<z>0</z>
				</anchor>
				<drawinfo>
					<box comment="RH_upper_leg">
						<color>
							<r>0.1</r>
							<g>0.8</g>
							<b>0.1</b>
						</color>
						<dx>0.35</dx>
						<dy>0.05</dy>
						<dz>0.05</dz>
					</box>
				</drawinfo>
			</body>
            
            <body>
				<name>RH_lower_leg</name>
				<mass>0.881</mass>
                <CMX>0.1254</CMX>
                <CMY>-0.00004</CMY>
                <CMZ>0.0001</CMZ>
				<IXX>0.00047</IXX>
				<IYY>0.01256</IYY>
				<IZZ>0.01233</IZZ>
                <IXY>-0.00006</IXY>
                <IXZ>0.00001</IXZ>
                <IYZ>-0.00</IYZ>
				<anchor>
					<name>RH_lower_leg_to_RH_upper_leg</name>
					<x>lower_leg_length/2</x>
					<y>0</y>
					<z>0</z>
				</anchor>
				<drawinfo>
					<box comment="RH_lower_leg">
						<color>
							<r>0.1</r>
							<g>0.1</g>
							<b>0.8</b>
						</color>
						<dx>lower_leg_length</dx>
						<dy>0.05</dy>
						<dz>0.05</dz>
					</box>
				</drawinfo>
			</body>              
            
       <!-- Initial condition of pole angles -->
        <!--      <initialcondition>
                <bodyname>LF_hip_assebly</bodyname>
                <rotation>
                    <axis>
                        <x>1</x>
                        <y>0</y>
                        <z>0</z>
                    </axis>
                    <angle>pi/4</angle>
                </rotation>
            </initialcondition>
          -->  
        <initialcondition>
				<bodyname>LF_upper_leg</bodyname>
				<rotation>
					<axis>
						<x>0</x>
						<y>1</y>
						<z>0</z>
					</axis>
					<angle>-pi/4</angle>
				</rotation>
			</initialcondition>

            <initialcondition>
				<bodyname>LF_lower_leg</bodyname>
				<rotation>
					<axis>
						<x>0</x>
						<y>1</y>
						<z>0</z>
					</axis>
					<angle>pi/4</angle>
				</rotation>
			</initialcondition>

            <initialcondition>
				<bodyname>RF_upper_leg</bodyname>
				<rotation>
					<axis>
						<x>0</x>
						<y>1</y>
						<z>0</z>
					</axis>
					<angle>-pi/4</angle>
				</rotation>
			</initialcondition>

            <initialcondition>
				<bodyname>RF_lower_leg</bodyname>
				<rotation>
					<axis>
						<x>0</x>
						<y>1</y>
						<z>0</z>
					</axis>
					<angle>pi/4</angle>
				</rotation>
			</initialcondition>

            <initialcondition>
				<bodyname>LH_upper_leg</bodyname>
				<rotation>
					<axis>
						<x>0</x>
						<y>1</y>
						<z>0</z>
					</axis>
					<angle>pi/4</angle>
				</rotation>
			</initialcondition>

            <initialcondition>
				<bodyname>LH_lower_leg</bodyname>
				<rotation>
					<axis>
						<x>0</x>
						<y>1</y>
						<z>0</z>
					</axis>
					<angle>-pi/4</angle>
				</rotation>
			</initialcondition>
        
            <initialcondition>
				<bodyname>RH_upper_leg</bodyname>
				<rotation>
					<axis>
						<x>0</x>
						<y>1</y>
						<z>0</z>
					</axis>
					<angle>pi/4</angle>
				</rotation>
			</initialcondition>

            <initialcondition>
				<bodyname>RH_lower_leg</bodyname>
				<rotation>
					<axis>
						<x>0</x>
						<y>1</y>
						<z>0</z>
					</axis>
					<angle>-pi/4</angle>
				</rotation>
			</initialcondition>
                    
            <!-- Joints -->
            <joint>
				<name>LF_HAA</name>
				<type>hinge</type>
				<anchor1>
					<bodyname>trunk</bodyname>
					<anchorname>trunk_to_LF_hip_assembly</anchorname>
				</anchor1>
				<anchor2>
					<bodyname>LF_hip_assembly</bodyname>
					<anchorname>LF_hip_assembly_to_trunk</anchorname>
				</anchor2>
				<axisX>1</axisX>
				<axisY>0</axisY>
				<axisZ>0</axisZ>
                <lowerlimit>-1.5708</lowerlimit>
                <upperlimit>0.5236</upperlimit>
                <stopK>jointstopK</stopK>
                <stopD>jointstopD</stopD>
				<motor>
					<type>torque</type>
				</motor>
			</joint>
            
            <joint>
				<name>LF_HFE</name>
				<type>hinge</type>
				<anchor1>
					<bodyname>LF_hip_assembly</bodyname>
					<anchorname>LF_hip_assembly_to_LF_upper_leg</anchorname>
				</anchor1>
				<anchor2>
					<bodyname>LF_upper_leg</bodyname>
					<anchorname>LF_upper_leg_to_LF_hip_assembly</anchorname>
				</anchor2>
				<axisX>0</axisX>
				<axisY>1</axisY>
				<axisZ>0</axisZ>
                <lowerlimit>-0.8727</lowerlimit>
                <upperlimit>1.2217</upperlimit>
                <stopK>jointstopK</stopK>
                <stopD>jointstopD</stopD>
				<motor>
					<type>torque</type>
				</motor>
			</joint>
            
            <joint>
				<name>LF_KFE</name>
				<type>hinge</type>
				<anchor1>
					<bodyname>LF_upper_leg</bodyname>
					<anchorname>LF_upper_leg_to_LF_lower_leg</anchorname>
				</anchor1>
				<anchor2>
					<bodyname>LF_lower_leg</bodyname>
					<anchorname>LF_lower_leg_to_LF_upper_leg</anchorname>
				</anchor2>
				<axisX>0</axisX>
				<axisY>1</axisY>
				<axisZ>0</axisZ>
                <lowerlimit>-2.4435</lowerlimit>
                <upperlimit>-0.3491</upperlimit>
                <stopK>jointstopK</stopK>
                <stopD>jointstopD</stopD>
				<motor>
					<type>torque</type>
				</motor>
			</joint>
            
            <joint>
				<name>RF_HAA</name>
				<type>hinge</type>
				<anchor1>
					<bodyname>trunk</bodyname>
					<anchorname>trunk_to_RF_hip_assembly</anchorname>
				</anchor1>
				<anchor2>
					<bodyname>RF_hip_assembly</bodyname>
					<anchorname>RF_hip_assembly_to_trunk</anchorname>
				</anchor2>
				<axisX>1</axisX>
				<axisY>0</axisY>
				<axisZ>0</axisZ>
                <lowerlimit>-1.5708</lowerlimit>
                <upperlimit>0.5236</upperlimit>
                <stopK>jointstopK</stopK>
                <stopD>jointstopD</stopD>
				<motor>
					<type>torque</type>
				</motor>
			</joint>
            
            <joint>
				<name>RF_HFE</name>
				<type>hinge</type>
				<anchor1>
					<bodyname>RF_hip_assembly</bodyname>
					<anchorname>RF_hip_assembly_to_RF_upper_leg</anchorname>
				</anchor1>
				<anchor2>
					<bodyname>RF_upper_leg</bodyname>
					<anchorname>RF_upper_leg_to_RF_hip_assembly</anchorname>
				</anchor2>
				<axisX>0</axisX>
				<axisY>1</axisY>
				<axisZ>0</axisZ>
                <lowerlimit>-0.8727</lowerlimit>
                <upperlimit>1.2217</upperlimit>
                <stopK>jointstopK</stopK>
                <stopD>jointstopD</stopD>
				<motor>
					<type>torque</type>
				</motor>
			</joint>
            
            <joint>
				<name>RF_KFE</name>
				<type>hinge</type>
				<anchor1>
					<bodyname>RF_upper_leg</bodyname>
					<anchorname>RF_upper_leg_to_RF_lower_leg</anchorname>
				</anchor1>
				<anchor2>
					<bodyname>RF_lower_leg</bodyname>
					<anchorname>RF_lower_leg_to_RF_upper_leg</anchorname>
				</anchor2>
				<axisX>0</axisX>
				<axisY>1</axisY>
				<axisZ>0</axisZ>
                <lowerlimit>-2.4435</lowerlimit>
                <upperlimit>-0.3491</upperlimit>
                <stopK>jointstopK</stopK>
                <stopD>jointstopD</stopD>
				<motor>
					<type>torque</type>
				</motor>
			</joint>
            
             <joint>
				<name>LH_HAA</name>
				<type>hinge</type>
				<anchor1>
					<bodyname>trunk</bodyname>
					<anchorname>trunk_to_LH_hip_assembly</anchorname>
				</anchor1>
				<anchor2>
					<bodyname>LH_hip_assembly</bodyname>
					<anchorname>LH_hip_assembly_to_trunk</anchorname>
				</anchor2>
				<axisX>1</axisX>
				<axisY>0</axisY>
				<axisZ>0</axisZ>
                <lowerlimit>-1.5708</lowerlimit>
                <upperlimit>0.5236</upperlimit>
                <stopK>jointstopK</stopK>
                <stopD>jointstopD</stopD>
				<motor>
					<type>torque</type>
				</motor>
			</joint>
            
            <joint>
				<name>LH_HFE</name>
				<type>hinge</type>
				<anchor1>
					<bodyname>LH_hip_assembly</bodyname>
					<anchorname>LH_hip_assembly_to_LH_upper_leg</anchorname>
				</anchor1>
				<anchor2>
					<bodyname>LH_upper_leg</bodyname>
					<anchorname>LH_upper_leg_to_LH_hip_assembly</anchorname>
				</anchor2>
				<axisX>0</axisX>
				<axisY>1</axisY>
				<axisZ>0</axisZ>
                <lowerlimit>-1.2217</lowerlimit>
                <upperlimit>0.8727</upperlimit>
                <stopK>jointstopK</stopK>
                <stopD>jointstopD</stopD>
				<motor>
					<type>torque</type>
				</motor>
			</joint>
            
            <joint>
				<name>LH_KFE</name>
				<type>hinge</type>
				<anchor1>
					<bodyname>LH_upper_leg</bodyname>
					<anchorname>LH_upper_leg_to_LH_lower_leg</anchorname>
				</anchor1>
				<anchor2>
					<bodyname>LH_lower_leg</bodyname>
					<anchorname>LH_lower_leg_to_LH_upper_leg</anchorname>
				</anchor2>
				<axisX>0</axisX>
				<axisY>1</axisY>
				<axisZ>0</axisZ>
                <lowerlimit>0.3491</lowerlimit>
                <upperlimit>2.4435</upperlimit>
                <stopK>jointstopK</stopK>
                <stopD>jointstopD</stopD>
				<motor>
					<type>torque</type>
				</motor>
			</joint>
            
            <joint>
				<name>RH_HAA</name>
				<type>hinge</type>
				<anchor1>
					<bodyname>trunk</bodyname>
					<anchorname>trunk_to_RH_hip_assembly</anchorname>
				</anchor1>
				<anchor2>
					<bodyname>RH_hip_assembly</bodyname>
					<anchorname>RH_hip_assembly_to_trunk</anchorname>
				</anchor2>
				<axisX>1</axisX>
				<axisY>0</axisY>
				<axisZ>0</axisZ>
                <lowerlimit>-1.5708</lowerlimit>
                <upperlimit>0.5236</upperlimit>
                <stopK>jointstopK</stopK>
                <stopD>jointstopD</stopD>
				<motor>
					<type>torque</type>
				</motor>
			</joint>
            
            <joint>
				<name>RH_HFE</name>
				<type>hinge</type>
				<anchor1>
					<bodyname>RH_hip_assembly</bodyname>
					<anchorname>RH_hip_assembly_to_RH_upper_leg</anchorname>
				</anchor1>
				<anchor2>
					<bodyname>RH_upper_leg</bodyname>
					<anchorname>RH_upper_leg_to_RH_hip_assembly</anchorname>
				</anchor2>
				<axisX>0</axisX>
				<axisY>1</axisY>
				<axisZ>0</axisZ>
                <lowerlimit>-1.2217</lowerlimit>
                <upperlimit>0.8727</upperlimit>
                <stopK>jointstopK</stopK>
                <stopD>jointstopD</stopD>
				<motor>
					<type>torque</type>
				</motor>
			</joint>
            
            <joint>
				<name>RH_KFE</name>
				<type>hinge</type>
				<anchor1>
					<bodyname>RH_upper_leg</bodyname>
					<anchorname>RH_upper_leg_to_RH_lower_leg</anchorname>
				</anchor1>
				<anchor2>
					<bodyname>RH_lower_leg</bodyname>
					<anchorname>RH_lower_leg_to_RH_upper_leg</anchorname>
				</anchor2>
				<axisX>0</axisX>
				<axisY>1</axisY>
				<axisZ>0</axisZ>
                <lowerlimit>0.3491</lowerlimit>
                <upperlimit>2.4435</upperlimit>
                <stopK>jointstopK</stopK>
                <stopD>jointstopD</stopD>
				<motor>
					<type>torque</type>
				</motor>
			</joint>
            
            <!-- Collision geometries -->
            <geom>
				<name>LF_foot</name>
				<bodyname>LF_lower_leg</bodyname>
				<type>sphere</type>
				<material>rubber</material>
				<radius>0.04</radius>
				<x>lower_leg_length/2</x>				
				<y>0</y>
				<z>0</z>				
			</geom>
            <geom>
				<name>RF_foot</name>
				<bodyname>RF_lower_leg</bodyname>
				<type>sphere</type>
				<material>rubber</material>
				<radius>0.04</radius>
				<x>lower_leg_length/2</x>				
				<y>0</y>
				<z>0</z>				
			</geom>
            <geom>
				<name>LH_foot</name>
				<bodyname>LH_lower_leg</bodyname>
				<type>sphere</type>
				<material>rubber</material>
				<radius>0.04</radius>
				<x>-lower_leg_length/2</x>				
				<y>0</y>
				<z>0</z>				
			</geom>
            <geom>
				<name>RH_foot</name>
				<bodyname>RH_lower_leg</bodyname>
				<type>sphere</type>
				<material>rubber</material>
				<radius>0.04</radius>
				<x>-lower_leg_length/2</x>				
				<y>0</y>
				<z>0</z>				
			</geom>
            <!-- Initial position -->
			
            
            <fixedpoint>
                <bodyname>trunk</bodyname>
				<bodyX>0</bodyX>
				<bodyY>0</bodyY>
				<bodyZ>0</bodyZ>
				<worldX>0</worldX>
				<worldY>0</worldY>
				<worldZ>0.6</worldZ>
			</fixedpoint>
		</object>
        
        <!-- Floor -->
		<object>
			<name>floor</name>
			<geom>
				<name>surface</name>
				<type>plane</type>
				<material>lynoleum</material>
				<A>0</A>
				<B>0</B>
				<C>1</C>
				<D>0</D>		
			</geom>	
		</object>
        
		<collisions>
			<drawcontacts>true</drawcontacts>
			<contact>
				<material1>lynoleum</material1>
				<material2>rubber</material2>
				<K>100000</K>
				<D>1000</D>
				<!--<mu comment="-1 means infinite">-1</mu>-->
                <mu comment="-1 means infinite">0.9</mu>
				<approximation comment="1 means friction pyramid approximation">1</approximation>
			</contact>
			<collision>
				<object1>floor</object1>
				<object2>robot</object2>
			</collision>
		</collisions>
	</ode>
</configuration>

